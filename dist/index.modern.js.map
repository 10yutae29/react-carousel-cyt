{"version":3,"file":"index.modern.js","sources":["../src/index.js"],"sourcesContent":["import React from 'react'\nimport { useRef, useState } from 'react'\n/**\n * @prop {width} Carousel with | string | \"100%\" or \"500px\" or \"20rem\" ...\n * @prop {imgs}  img url array | [string] | [\"url\",\"url\",\"url\"...]\n * @prop {imgRatio} img aspectRatio | string | \"1/2\" or \"16/9\" ...\n * @prop {imgWidth} img width | string | \"24px\" or \"50%\" or \"12rem\" ...\n * @prop {imgObjectFit} img objectFit | string | \"cover\" or \"contain\" ...\n * @prop {imgBorder} img border | string | \"solid black 2px\" ...\n * @prop {imgRadius} img borderRadius | string | \"2px\" or \"0.5rem\" ...\n * @prop {isDot} dot btn boolean | boolean | true or false\n * @prop {dotColor} dot base color | string | \"red\" or \"#ff8e0d\"...\n * @prop {dotColorSelected} dot selected color | string | \"red\" or \"#ff8e0d\"...\n * @prop {dotSize} dot size | string | \"12px\" or \"1rem\" ...\n * @prop {gap} gap between imgs, dots and description | string | \"12px\" or \"1rem\" ...\n * @prop {isArrow} arrow btn boolean | boolean | true or false\n * @prop {arrowColor} arrow color | string | \"red\" or \"#ff8e0d\"...\n * @prop {arrowDisabledColor} arrow disabled color | string | \"grey\" or \"#000000\"\n * @prop {arrowSize} arrow size | string | \"12px\" or \"1rem\" ...\n * @prop {descriptions} descriptions array(same length with imgs array) for imgs | [string] | [\"img1 ~~\", \"img2 ~~\", \"img3 ~~\"]\n * @prop {descriptionSize} descriptions size | string |  \"12px\" or \"1rem\" ...\n * @prop {descriptionColor} descriptions color | string | \"red\" or #ff8e0d...\n * @returns\n */\nexport default function Carousel({\n  width = '100%',\n  imgs = [],\n  imgRatio = '1/1',\n  imgWidth = '90%',\n  imgObjectFit = 'contain',\n  imgBorder = '',\n  imgRadius = '',\n  isDot = true,\n  dotColor = 'black',\n  dotColorSelected = '#ff8e0d',\n  dotSize = '1.5rem',\n  gap = '0.5rem',\n  isArrow = true,\n  arrowColor = '#ff8e0d',\n  arrowDisabledColor = 'grey',\n  arrowSize = '1.5rem',\n  descriptions,\n  descriptionSize = '1.5rem',\n  descriptionColor = '#ff8e0d'\n}) {\n  if (imgs.length === 0) {\n    return <p>imgs property is empty</p>\n  }\n  const containerRef = useRef()\n  const [dragStart, setDragStart] = useState(0)\n  const [idx, setIdx] = useState(0)\n  const handleDrag = (e) => {\n    if (e.pageX > 0) {\n      containerRef.current.style.transform = `translate(${\n        e.pageX - dragStart\n      }px)`\n      containerRef.current.moved = e.pageX - dragStart\n    }\n  }\n  const onDragEnd = (e) => {\n    containerRef.current.style.transition = 'transform 0.5s'\n    const width = containerRef.current.offsetWidth\n    const start = idx * width\n    const passOffset = width / 10\n    if (\n      containerRef.current.moved < -start - passOffset &&\n      idx < imgs.length - 1\n    ) {\n      const newIdx = idx + 1\n      containerRef.current.style.transform = `translate(${-newIdx * width}px)`\n      containerRef.current.moved = -newIdx * width\n      setIdx(newIdx)\n    } else if (containerRef.current.moved > -start + passOffset && idx > 0) {\n      const newIdx = idx - 1\n      containerRef.current.style.transform = `translate(${-newIdx * width}px)`\n      containerRef.current.moved = -newIdx * width\n      setIdx(newIdx)\n    } else {\n      containerRef.current.style.transform = `translate(${-idx * width}px)`\n      containerRef.current.moved = -idx * width\n    }\n  }\n  const onDragStart = (e) => {\n    containerRef.current.style.transition = 'none'\n\n    const moved =\n      containerRef.current.moved === undefined ? 0 : containerRef.current.moved\n    setDragStart(e.clientX - moved)\n    if (e.dataTransfer) {\n      var img = new Image()\n      img.src = '/'\n      e.dataTransfer.setDragImage(img, 0, 0)\n    }\n  }\n\n  const onDotClick = (index) => {\n    containerRef.current.style.transition = 'transform 0.5s'\n    const width = containerRef.current.offsetWidth\n\n    containerRef.current.style.transform = `translate(${-index * width}px)`\n    containerRef.current.moved = -index * width\n    setIdx(index)\n  }\n\n  const onRightClick = () => {\n    if (idx < imgs.length - 1) {\n      containerRef.current.style.transition = 'transform 0.5s'\n      const width = containerRef.current.offsetWidth\n      const newIdx = idx + 1\n      containerRef.current.style.transform = `translate(${-newIdx * width}px)`\n      containerRef.current.moved = -newIdx * width\n      setIdx(newIdx)\n    }\n  }\n\n  const onLeftClick = () => {\n    if (idx > 0) {\n      containerRef.current.style.transition = 'transform 0.5s'\n      const width = containerRef.current.offsetWidth\n      const newIdx = idx - 1\n      containerRef.current.style.transform = `translate(${-newIdx * width}px)`\n      containerRef.current.moved = -newIdx * width\n      setIdx(newIdx)\n    }\n  }\n\n  return (\n    <div\n      style={{\n        width: width,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        gap: gap\n      }}\n    >\n      <div\n        style={{\n          width: '100%',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          gap: '8px'\n        }}\n      >\n        {isArrow && (\n          <div\n            style={{\n              color: idx === 0 ? arrowDisabledColor : arrowColor,\n              cursor: 'pointer',\n              fontSize: arrowSize\n            }}\n            onClick={onLeftClick}\n          >\n            ◀\n          </div>\n        )}\n        <div style={{ overflow: 'hidden', flex: '1 1 0%' }}>\n          <div\n            ref={containerRef}\n            onDrag={handleDrag}\n            onDragStart={onDragStart}\n            onDragEnd={onDragEnd}\n            onTouchStart={(e) => onDragStart(e.touches[0])}\n            onTouchMove={(e) => handleDrag(e.touches[0])}\n            onTouchEnd={(e) => onDragEnd(e.touches[0])}\n            style={{ width: '100%', display: 'flex', cursor: 'pointer' }}\n            draggable\n          >\n            {imgs.map((img, index) => {\n              return (\n                <div\n                  key={img + index * 6132341}\n                  style={{\n                    width: '100%',\n                    flexShrink: 0,\n                    overflow: 'hidden',\n                    display: 'flex',\n                    justifyContent: 'center'\n                  }}\n                >\n                  <div\n                    style={{\n                      width: imgWidth,\n                      overflow: 'hidden',\n                      border: imgBorder,\n                      borderRadius: imgRadius\n                    }}\n                  >\n                    <img\n                      draggable={false}\n                      style={{\n                        aspectRatio: imgRatio,\n                        width: '100%',\n                        objectFit: imgObjectFit\n                      }}\n                      src={img}\n                      alt=''\n                    />\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        </div>\n        {isArrow && (\n          <div\n            style={{\n              color: idx === imgs.length - 1 ? arrowDisabledColor : arrowColor,\n              cursor: 'pointer',\n              fontSize: arrowSize\n            }}\n            onClick={onRightClick}\n          >\n            ▶\n          </div>\n        )}\n      </div>\n      {isDot && (\n        <div\n          className='flex w-full justify-center'\n          style={{\n            display: 'flex',\n            width: '100%',\n            justifyContent: 'center',\n            gap: '2px',\n            fontSize: dotSize,\n            color: dotColor\n          }}\n        >\n          {imgs?.map((img, index) => (\n            <div\n              key={img + index * 3321}\n              style={{\n                color: index === idx && dotColorSelected,\n                cursor: 'pointer',\n\n                textAlign: 'center'\n              }}\n              onClick={() => onDotClick(index)}\n            >\n              •\n            </div>\n          ))}\n        </div>\n      )}\n      {descriptions && (\n        <p\n          style={{\n            fontSize: descriptionSize,\n            color: descriptionColor,\n            margin: 0\n          }}\n        >\n          {descriptions[idx]}\n        </p>\n      )}\n    </div>\n  )\n}\n"],"names":["Carousel","width","imgs","imgRatio","imgWidth","imgObjectFit","imgBorder","imgRadius","isDot","dotColor","dotColorSelected","dotSize","gap","isArrow","arrowColor","arrowDisabledColor","arrowSize","descriptions","descriptionSize","descriptionColor","length","React","createElement","containerRef","useRef","dragStart","setDragStart","useState","idx","setIdx","handleDrag","e","pageX","current","style","transform","moved","onDragEnd","transition","offsetWidth","start","passOffset","newIdx","onDragStart","undefined","clientX","dataTransfer","img","Image","src","setDragImage","onDotClick","index","onRightClick","onLeftClick","display","flexDirection","alignItems","justifyContent","color","cursor","fontSize","onClick","overflow","flex","ref","onDrag","onTouchStart","touches","onTouchMove","onTouchEnd","draggable","map","key","flexShrink","border","borderRadius","aspectRatio","objectFit","alt","className","textAlign","margin"],"mappings":"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"}